(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{5718:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/alerts",function(){return t(9523)}])},9263:function(e,s,t){"use strict";t.d(s,{O:function(){return l}});var n=t(8590);let a="https://dbuxsnccinjldvxiooye.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRidXhzbmNjaW5qbGR2eGlvb3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NTM4NTgsImV4cCI6MjA2NTQyOTg1OH0.Td7-Z8AY9b_EGrbZ_Taxeif0LMkDQ1sQiOL2GU5S5tI";console.log("Supabase URL:",a),console.log("Supabase ANON KEY:",i.slice(0,10)+"…");let l=(0,n.eI)(a,i);console.log("\uD83D\uDEF0️  Supabase Client URL:",a),console.log("\uD83D\uDD11  Supabase Client Key:",i.slice(0,8)+"…")},9523:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var n=t(5893),a=t(7294),i=t(9263),l=t(1163);function r(){let e=(0,l.useRouter)(),[s,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(null),u=async()=>{let{data:e,error:s}=await i.O.from("alerts").select("\n        id,\n        triggered_at,\n        budget:budgets (\n          month,\n          category:categories ( name )\n        )\n      ").order("triggered_at",{ascending:!1});s?c(s.message):e&&t(e.map(e=>({id:e.id,month:e.budget.month,category_name:e.budget.category.name,triggered_at:e.triggered_at})))};return(0,a.useEffect)(()=>{u()},[]),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,n.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,n.jsx)("button",{onClick:()=>e.push("/"),className:"text-blue-600 hover:underline",children:"← Dashboard"}),(0,n.jsx)("button",{onClick:()=>e.push("/budgets"),className:"text-blue-600 hover:underline",children:"← Presupuestos"})]}),(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Alertas de Presupuesto"}),r&&(0,n.jsx)("p",{className:"text-red-500 mb-2",children:r}),0===s.length?(0,n.jsx)("p",{className:"text-gray-600",children:"No tienes alertas por el momento."}):(0,n.jsx)("ul",{className:"space-y-4",children:s.map(e=>(0,n.jsxs)("li",{className:"bg-white p-4 rounded shadow flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"font-medium text-red-600",children:["Excediste el presupuesto de ",(0,n.jsx)("strong",{children:e.category_name})]}),(0,n.jsxs)("div",{className:"text-gray-600",children:["Mes: ",e.month]})]}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.triggered_at).toLocaleString()})]},e.id))})]})}}},function(e){e.O(0,[590,888,774,179],function(){return e(e.s=5718)}),_N_E=e.O()}]);