(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{8448:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/expenses",function(){return s(3788)}])},9263:function(e,n,s){"use strict";s.d(n,{O:function(){return t}});var a=s(8590);let i="https://dbuxsnccinjldvxiooye.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRidXhzbmNjaW5qbGR2eGlvb3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NTM4NTgsImV4cCI6MjA2NTQyOTg1OH0.Td7-Z8AY9b_EGrbZ_Taxeif0LMkDQ1sQiOL2GU5S5tI";console.log("Supabase URL:",i),console.log("Supabase ANON KEY:",l.slice(0,10)+"…");let t=(0,a.eI)(i,l);console.log("\uD83D\uDEF0️  Supabase Client URL:",i),console.log("\uD83D\uDD11  Supabase Client Key:",l.slice(0,8)+"…")},3788:function(e,n,s){"use strict";s.r(n);var a=s(5893),i=s(7294),l=s(9263);n.default=()=>{let[e,n]=(0,i.useState)([]),[s,t]=(0,i.useState)(null),o=async()=>{t(null);let{data:{session:e}}=await l.O.auth.getSession();if(!e)return;let s=e.user.id,{data:a,error:i}=await l.O.from("transactions").select("\n          id,\n          amount,\n          date,\n          description,\n          category:category_id(name),\n          subcategory:subcategory_id(name)\n        ").eq("user_id",s).order("date",{ascending:!1});i?(console.error(i),t(i.message)):a&&n(a.map(e=>{var n,s,a,i,l,t;let o=e.category,r=e.subcategory,u=Array.isArray(o)?null!==(a=null===(n=o[0])||void 0===n?void 0:n.name)&&void 0!==a?a:"":null!==(i=null==o?void 0:o.name)&&void 0!==i?i:"",c=Array.isArray(r)?null!==(l=null===(s=r[0])||void 0===s?void 0:s.name)&&void 0!==l?l:null:null!==(t=null==r?void 0:r.name)&&void 0!==t?t:null;return{id:e.id,amount:e.amount,date:e.date,description:e.description,category:{name:u},subcategory:c?{name:c}:null}}))};return(0,i.useEffect)(()=>{o()},[]),(0,a.jsxs)("main",{className:"p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Transacciones"}),s&&(0,a.jsx)("p",{className:"text-red-600 mb-4",children:s}),(0,a.jsx)("ul",{className:"space-y-2",children:e.map(e=>{var n;return(0,a.jsxs)("li",{className:"flex justify-between p-3 bg-white rounded shadow-sm",children:[(0,a.jsx)("span",{children:e.date}),(0,a.jsx)("span",{children:e.category.name}),(0,a.jsx)("span",{children:(null===(n=e.subcategory)||void 0===n?void 0:n.name)||"-"}),(0,a.jsx)("span",{children:e.description||"-"}),(0,a.jsx)("span",{children:e.amount.toFixed(2)})]},e.id)})})]})}}},function(e){e.O(0,[590,888,774,179],function(){return e(e.s=8448)}),_N_E=e.O()}]);