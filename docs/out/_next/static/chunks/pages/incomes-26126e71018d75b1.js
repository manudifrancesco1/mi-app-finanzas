(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{7961:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/incomes",function(){return s(7383)}])},9263:function(e,n,s){"use strict";s.d(n,{O:function(){return l}});var i=s(8590);let a="https://dbuxsnccinjldvxiooye.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRidXhzbmNjaW5qbGR2eGlvb3llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4NTM4NTgsImV4cCI6MjA2NTQyOTg1OH0.Td7-Z8AY9b_EGrbZ_Taxeif0LMkDQ1sQiOL2GU5S5tI";console.log("Supabase URL:",a),console.log("Supabase ANON KEY:",t.slice(0,10)+"…");let l=(0,i.eI)(a,t);console.log("\uD83D\uDEF0️  Supabase Client URL:",a),console.log("\uD83D\uDD11  Supabase Client Key:",t.slice(0,8)+"…")},7383:function(e,n,s){"use strict";s.r(n);var i=s(5893),a=s(7294),t=s(9263);n.default=()=>{let[e,n]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),c=async()=>{l(null);let{data:{session:e}}=await t.O.auth.getSession();if(!e)return;let s=e.user.id,{data:i,error:a}=await t.O.from("incomes").select("\n          id,\n          amount,\n          date,\n          description,\n          category:category_id(name)\n        ").eq("user_id",s).order("date",{ascending:!1});a?(console.error(a),l(a.message)):i&&n(i.map(e=>{var n,s,i;let a=e.category,t=Array.isArray(a)?null!==(s=null===(n=a[0])||void 0===n?void 0:n.name)&&void 0!==s?s:"":null!==(i=null==a?void 0:a.name)&&void 0!==i?i:"";return{id:e.id,amount:e.amount,date:e.date,description:e.description,category:{name:t}}}))};return(0,a.useEffect)(()=>{c()},[]),(0,i.jsxs)("main",{className:"p-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Ingresos"}),s&&(0,i.jsx)("p",{className:"text-red-600 mb-4",children:s}),(0,i.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,i.jsxs)("li",{className:"flex justify-between p-3 bg-white rounded shadow-sm",children:[(0,i.jsx)("span",{children:e.date}),(0,i.jsx)("span",{children:e.category.name}),(0,i.jsx)("span",{children:e.description||"-"}),(0,i.jsx)("span",{children:e.amount.toFixed(2)})]},e.id))})]})}}},function(e){e.O(0,[590,888,774,179],function(){return e(e.s=7961)}),_N_E=e.O()}]);